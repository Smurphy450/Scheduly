@page "/Overview";
@inherits OverviewBase;
@using Scheduly.WebApi.Models.DTO;

<h3>Overview</h3>

<MudGrid>
	<MudItem xs="12">
        @if (DayStarted)
        {
            <MudButton FullWidth="true" Variant="Variant.Filled" Color="Color.Error" OnClick="EndDay">End</MudButton>
        }
        else
        {
            <MudButton FullWidth="true" Variant="Variant.Filled" Color="Color.Success" OnClick="StartDay">Start</MudButton>
        }
    </MudItem>

	<MudItem xs="6">
		<MudDataGrid T="OverviewPremisesDTO" Items="@AllPremises" Virtualize="true" Height="auto">
			<Columns>
				<PropertyColumn Property="x => x.Name" />
				<PropertyColumn Property="x => x.CategoryName" />
				<PropertyColumn Property="x => x.Size" />
				<PropertyColumn Property="x => x.Start" />
				<PropertyColumn Property="x => x.End" />
				<PropertyColumn Property="x => x.Approved" />
			</Columns>
			<LoadingContent>
				<MudText Typo="Typo.h6">Loading...</MudText>
			</LoadingContent>
			<NoRecordsContent>
				No data available
			</NoRecordsContent>
		</MudDataGrid>

		<MudButton Class="pt-4" FullWidth="true" Variant="Variant.Filled" Href="@("/Booking")">Add</MudButton>
	</MudItem>

	<MudItem xs="6">
		<MudDataGrid T="OverviewResourcesDTO" Items="@AllResources" Virtualize="true" Height="auto">
			<Columns>
				<PropertyColumn Property="x => x.CategoryName" />
				<PropertyColumn Property="x => x.ResourceName" />
				<PropertyColumn Property="x => x.Description" />
				<PropertyColumn Property="x => x.Start" />
				<PropertyColumn Property="x => x.End" />
				<PropertyColumn Property="x => x.Approved" />
			</Columns>
			<LoadingContent>
				<MudText Typo="Typo.h6">Loading...</MudText>
			</LoadingContent>
			<NoRecordsContent>
				No data available
			</NoRecordsContent>
		</MudDataGrid>

		<MudButton Class="pt-4" FullWidth="true" Variant="Variant.Filled" Href="@("/Booking")">Add</MudButton>
	</MudItem>

	<MudItem xs="12">
		<MudButton FullWidth="true" Variant="Variant.Filled" Href="@("/Absence/ReportAbsence")">Report Absence</MudButton>
	</MudItem>
</MudGrid>