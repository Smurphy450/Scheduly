@page "/Booking";
@inherits BookingBase;
@attribute [Authorize(Roles = "Administrator,User")]

<MudGrid>
    <MudItem xs="12">
        <h3>Resources</h3>

        <MudStack Row="true">
            @foreach (var resourceCategory in ResourceCategoryList)
            {
                <MudItem>
                    <MudCard Style="min-height:120px; width:300px;">
                        <MudCardHeader>
                            <CardHeaderContent>
                                <MudText Typo="Typo.body1"><b>@resourceCategory.Name</b></MudText>
                            </CardHeaderContent>
                            <CardHeaderActions>
                                <AuthorizeView Roles="Administrator">
                                    <Authorized>
                                        <MudIconButton Icon="@Icons.Material.Filled.DeleteForever" Color="Color.Error" OnClick="@(() => DeleteResourceCategory(resourceCategory.CategoryId))" />
                                    </Authorized>
                                </AuthorizeView>
                            </CardHeaderActions>
                        </MudCardHeader>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary" Href="@($"/Booking/ResourceDetails/{resourceCategory.CategoryId}")">Details</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            }
        </MudStack>
    </MudItem>
    
    <MudDivider Vertical="true" FlexItem="true" DividerType="DividerType.FullWidth" />

    <MudItem xs="12">
        <h3>Premises</h3>

        <MudStack Row="true">
            @foreach (var premiseCategory in PremiseCategoryList)
            {
                <MudItem>
                    <MudCard Style="height:120px; width:300px;">
                        <MudCardHeader>
                            <CardHeaderContent>
                            <MudText Typo="Typo.body1"><b>@premiseCategory.Name</b</MudText>
                            </CardHeaderContent>
                            <CardHeaderActions>
                                <AuthorizeView Roles="Administrator">
                                <Authorized>
                                    <MudIconButton Icon="@Icons.Material.Filled.DeleteForever" Color="Color.Error" OnClick="@(() => DeletePremiseCategory(premiseCategory.PremiseCategoryId))" />
                                </Authorized>
                            </AuthorizeView>
                            </CardHeaderActions>
                        </MudCardHeader>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Primary" Href="@($"/Booking/PremiseDetails/{premiseCategory.PremiseCategoryId}")">Details</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudItem>
            }
        </MudStack>
    </MudItem>
</MudGrid>